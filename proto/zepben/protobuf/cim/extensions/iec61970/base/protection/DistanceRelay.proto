/*
 * Copyright 2024 Zeppelin Bend Pty Ltd
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

syntax = "proto3";
option java_multiple_files = true;
option java_package = "com.zepben.protobuf.cim.extensions.iec61970.base.protection";
package zepben.protobuf.cim.extensions.iec61970.base.protection;

import "zepben/protobuf/cim/extensions/iec61970/base/protection/ProtectionRelayFunction.proto";
import "google/protobuf/struct.proto";

/**
 * [ZBEX] This extension is in-line with the CIM working group for replacing the `protection` package, can be replaced when the working
 * group outcome is merged into the CIM model.
 * <br/>
 * A protective device used in power systems that measures the impedance of a transmission line to determine the
 * distance to a fault, and initiates circuit breaker tripping to isolate the faulty section and safeguard the power
 * system.
 */
message DistanceRelay {

  /**
   * The PowerSystemResource fields for this VoltageRelay.
   */
  ProtectionRelayFunction prf = 1;

  /**
   * [ZBEX] The reverse blind impedance (in ohms) that defines the area to be blinded in the opposite direction of the power
   * flow.
   */
  oneof backwardBlind {
    google.protobuf.NullValue backwardBlindNull = 2;
    double backwardBlindSet = 3;
  }

  /**
   * [ZBEX] The reverse reach impedance (in ohms) that determines the maximum distance along the transmission line in the
   * opposite direction of power flow for which the relay will provide protection.
   */
  oneof backwardReach {
    google.protobuf.NullValue backwardReachNull = 4;
    double backwardReachSet = 5;
  }

  /**
   * [ZBEX] The reverse reactance (in ohms) that determines the maximum distance along the transmission line in the opposite
   * direction of power flow for which the relay will provide protection.
   */
  oneof backwardReactance {
    google.protobuf.NullValue backwardReactanceNull = 6;
    double backwardReactanceSet = 7;
  }

  /**
   * [ZBEX] The forward blind impedance (in ohms) that defines the area to be blinded in the direction of the power flow.
   */
  oneof forwardBlind {
    google.protobuf.NullValue forwardBlindNull = 8;
    double forwardBlindSet = 9;
  }

  /**
   * [ZBEX] The forward reach impedance (in ohms) that determines the maximum distance along the transmission line in the
   * direction of power flow for which the relay will provide protection.
   */
  oneof forwardReach {
    google.protobuf.NullValue forwardReachNull = 10;
    double forwardReachSet = 11;
  }

  /**
   * [ZBEX] The forward reactance (in ohms) that determines the maximum distance along the transmission line in the direction
   * of power flow for which the relay will provide protection.
   */
  oneof forwardReactance {
    google.protobuf.NullValue forwardReactanceNull = 12;
    double forwardReactanceSet = 13;
  }

  /**
   * [ZBEX] The phase angle (in degrees) between voltage and current during normal operating conditions for zone 1 relay.
   */
  oneof operationPhaseAngle1 {
    google.protobuf.NullValue operationPhaseAngle1Null = 14;
    double operationPhaseAngle1Set = 15;
  }

  /**
   * [ZBEX] The phase angle (in degrees) between voltage and current during normal operating conditions for zone 2 relay.
   */
  oneof operationPhaseAngle2 {
    google.protobuf.NullValue operationPhaseAngle2Null = 16;
    double operationPhaseAngle2Set = 17;
  }

  /**
   * [ZBEX] The phase angle (in degrees) between voltage and current during normal operating conditions for zone 3 relay.
   */
  oneof operationPhaseAngle3 {
    google.protobuf.NullValue operationPhaseAngle3Null = 18;
    double operationPhaseAngle3Set = 19;
  }

}
